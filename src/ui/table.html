<html>
    <head>
        <title>Table</title>
        <base href="../../release/requirejs/" />
        <style>
            .ui-table, .ui-table table{
                border-collapse: collapse;
                width: 100%;
            }
            .ui-table {
                border: 1px solid #aaa;
            }
            .ui-table .ui-tbody-loading td, .ui-table .ui-tbody-nodata td {
                text-align: center;
            }
            .ui-table thead {
                text-align: left;
            }
            .ui-table thead th {
                min-width: 3em;
                white-space: nowrap;
                padding: 4px;
            }
            .ui-table thead, .ui-table tfoot {
                background: url(ui/images/table-header_bg.png) repeat-x 0 0;
            }

            .ui-table tbody td {
                border: 1px solid #ccc;
                border-left: none;
                border-right: none;
                padding: 4px;
            }
            .ui-table tfoot td{
                padding: 4px;
                text-align: right;
            }
            .ui-table .ui-tbody-loading {
                background: url(ui/images/loading.gif) no-repeat center center;
                height:100%;
            }
            /* fixhead */
            .ui-table-fixhead .body {
                height: 500px;
            }

            .ui-table .head,
            .ui-table .foot,
            .ui-table .head table,
            .ui-table .head table th,
            .ui-table .body td:first,
            .ui-table .foot table,
            .ui-table .foot table td{
                border: none;
            }
        </style>
        <style ignore>
            .ui-table-fixhead {
                width:50%;
            }
        </style>
        <script src="requirejs.js"></script>
        <link type="text/css" href="aztec.css">
        <link type="text/css" href="ui/table.css">
    </head>
    <body>
        <table xtemplate="$root.ui.Table.table,delete" class="ui-table" sigil-class="Table" style="display:none">
            <thead class="ui-thead"></thead>
            <tbody class="ui-tbody-data" sigil=".data"></tbody>
            <tbody class="ui-tbody-loading" sigil=".loading"><tr><td></td></tr></tbody>
            <tbody class="ui-tbody-nodata" sigil=".nodata"><tr><td>No Data</td></tr></tbody>
            <tfoot class="ui-tfoot"><tr><td></td></tr></tfoot>
        </table>

        <div xtemplate="$root.ui.Table.fixHeadTable,delete" class="ui-table ui-table-fixhead" style="display:none">
            <div class="head">
                <table><thead class="ui-thead"></thead></table>
            </div>
            <div class="body" style="overflow-y:scroll;">
                <table>
                    <tbody class="ui-tbody-data" sigil=".data"></tbody>
                    <tbody class="ui-tbody-loading" sigil=".loading"><tr><td></td></tr></tbody>
                    <tbody class="ui-tbody-nodata" sigil=".nodata"><tr><td>No Data</td></tr></tbody>
                </table>
            </div>
            <div class="foot">
                <table><tfoot class="ui-tfoot"><tr><td></td></tr></tfoot></table>
            </div>
        </div>
    </body>
    <script>
        require(['ui/table', 'lang/arguments','lang/array','lang/string'], function(table, args, array, str) {
            var Table = table.Table,
                DataSource = table.DataSource;

            t = new Table({fixhead:true});
            t.setHeader('index<input type="checkbox"/>', 'First Name', 'Last Name', 'e-mail', 'city', 'ip')
                .setData(new DataSource({
                    url: 'http://localhost/table?t=' + new Date().getTime(),
                    process: function(resp) {
                        return resp.list;
                    }
                }))
                .deleteColumn(0)
                .on(t.$class.Events.OnHeaderClicked, function(e,target,index,text){
                    console.log(str.format('you clicked {i}th column with caption "{text}"',{
                        i: index, text: text
                    }))
                })
                .appendTo('body');

            //t2 = new Table();
            //t2.setHeader(array.w('星期日,星期一,星期二,星期三,星期三,星期四,星期五,星期六',','))
            //    .setData(date.calendar())
            //    .appendTo('body').width('400px');
        });

    </script>
</html>